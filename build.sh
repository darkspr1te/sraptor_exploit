rm *.o
rm *.hex
rm *.list
rm *.bin
rm *.elf


#arm-none-eabi-as --warn --fatal-warnings -mcpu=cortex-m0 flash.s -o flash.o
arm-none-eabi-gcc -Wall -Werror -O2 -nostdlib -nostartfiles -ffreestanding  -mcpu=cortex-m0 -mthumb -c notmain.c -o notmain.o

#arm-none-eabi-ld -o notmain.flash.elf -T flash.ld flash.o notmain.o
#arm-none-eabi-objdump -D notmain.flash.elf > notmain.flash.list
#arm-none-eabi-objcopy notmain.flash.elf notmain.flash.bin -O binary
arm-none-eabi-as --warn --fatal-warnings -mcpu=cortex-m0 sram.s -o sram.o

arm-none-eabi-ld -o notmain.sram.elf -T sram.ld sram.o notmain.o
arm-none-eabi-objdump -D notmain.sram.elf > notmain.sram.list
arm-none-eabi-objcopy notmain.sram.elf notmain.sram.hex -O ihex
arm-none-eabi-objcopy notmain.sram.elf notmain.sram.bin -O binary

arm-none-eabi-gcc -Wall -Werror -O2 -nostdlib -nostartfiles -ffreestanding  -mcpu=cortex-m0 -mthumb -c uart.c -o uart.o
arm-none-eabi-ld -o uart.sram.elf -T sram.ld sram.o uart.o
arm-none-eabi-objdump -D uart.sram.elf > uart.sram.list
arm-none-eabi-objcopy uart.sram.elf uart.sram.hex -O ihex
arm-none-eabi-objcopy uart.sram.elf uart.sram.hex -O binary
